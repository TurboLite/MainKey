<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="theme-color" content="#ffffff">
<style>
body { 
font-family: Arial, sans-serif; 
margin: 0; 
padding: 0; 
background-color: #f9f9f9; 
display: flex; 
justify-content: center; 
align-items: center; 
height: 100vh; 
text-align: center; 
flex-direction: column;
}

.key-box input:focus { 
outline: none; 
border: 2px solid pink;
}

.key-container { 
position: fixed; 
top: 0; 
left: 0; 
width: 100%; 
height: 100%; 
background: rgba(255, 255, 255, .8); 
display: flex; 
justify-content: center; 
align-items: center;
}

.key-box { 
background: #fff; 
padding: 20px; 
border-radius: 10px; 
text-align: center; 
color: #000; 
width: 250px; 
position: relative; 
box-shadow: 0 2px 5px rgba(0, 0, 0, .1); 
border: 2px solid #000;
}

.key-box h2 { 
font-weight: 700;
}

.key-box input { 
padding: 10px; 
border: 1px solid #000; 
border-radius: 5px; 
width: 80%; 
margin-top: 1px; 
text-align: center;
}

.key-box button { 
padding: 10px 15px; 
border: none; 
border-radius: 5px; 
background-color: #000; 
color: #fff; 
font-weight: 700; 
cursor: pointer; 
margin-top: 20px;
}

.key-box button:hover { 
background-color: gray;
}

.message { 
margin-top: 15px; 
font-weight: 700;
}

.hello-kitty { 
position: absolute; 
top: -120px; 
right: -20px; 
width: 85px; 
height: auto; 
transition: transform .3s ease;
}

.hello-anime { 
position: absolute; 
top: -55px; 
right: 221px; 
width: 100px; 
height: auto; 
transition: transform .3s ease;
}

/* Language selection bar */
.language-selector { 
position: fixed; 
top: 10px; 
right: 180px; 
background: white; 
border: 1px solid #ccc; 
border-radius: 8px; 
padding: 8px 12px; 
box-shadow: 0 2px 6px rgba(0,0,0,0.1); 
z-index: 9999;
}

.language-selector select { 
border: none; 
outline: none; 
background: transparent; 
font-size: 16px; 
cursor: pointer;
}
</style>
</head>
<body>

<!-- üåç Language selection bar -->
<div class="language-selector"> 
üåê Beta<select id="language"> 
<option value="en">English</option> 
<option value="vi">Ti·∫øng Vi·ªát</option> 
</select>
</div>
<body> 
<div class=key-container id=keyContainer> 
<div class=key-box><img src=https://turbolite.github.io/MainKey/kitty.png alt="Hello Kitty" class=hello-anime><img src=https://turbolite.github.io/MainKey/meow.png alt="Hello Kitty" class=hello-kitty> 
<h2>UgPhone</h2> 
<h3>You Need Get Key To Play</h3> 
<h4>1 Key + 30h = Unlimited Play</h4><input id=userKey placeholder="Paste Key Here"><br> 
<div style=display:flex;justify-content:center;gap:7px;margin-bottom:5px><button onclick=copyKeyLink()>Get Key</button><button onclick=checkKey()>Verify</button></div> 
<p id=message class=message></p><button onclick=openNewTab() style=display:block;margin:auto>Watch Video Tutorial Get Key</button></div> 
</div> 
<script> 
const keyExpireTime = 26 * 60 * 60 * 1000, 
keyLink = "https://turbolite.xyz/getkey"; 

function openNewTab() { 
window.open("https://www.turbolite.asia/2025/09/ugphone-mod-cach-lay-key.html", "_blank") 
} 

function copyKeyLink() { 
navigator.clipboard.writeText(keyLink).then((() => { 
document.getElementById("message").style.color = "green", document.getElementById("message").textContent = "> https://turbolite.xyz/getkey < You Copy the Link to Get the Key, Go to Google and Paste to Get the Key, >> https://link4m.com/sdAQIe << Link 2 is Faster" 
})).catch((e => { 
document.getElementById("message").style.color = "green", document.getElementById("message").textContent = "> https://turbolite.xyz/getkey < Copy the Key Link, Go to Google and Paste to Get the Key! >> https://link4m.com/sdAQIe << Link 2 is Faster"
}))
}

async function sendWebhook(e = "Welcome >.<") {
try {
// ‚úÖ Call API to verify key
const o = await fetch(`https://key.phantangthaibinh.workers.dev/verify-key?key=${encodeURIComponent(e)}`);
const n = await o.json();

// If API returns the remaining time
let timeRemaining = null;
if (n && n.time_remaining) {
timeRemaining = n.time_remaining; // e.g. "4 minutes 23 seconds" or "00:04:23"
}

// ‚úÖ Get IP
const ipRes = await fetch("https://api.ipify.org?format=json");
const { ip } = await ipRes.json();

// ‚úÖ Get country
const countryRes = await fetch(`https://ipwho.is/${ip}`);
const countryData = await countryRes.json();
const country = countryData.country || "Unknown";
const countryCode = countryData.country_code || "";

// ‚úÖ Country flag emoji
const emojiFlag = countryCode
? String.fromCodePoint(...countryCode.toUpperCase().split('').map(c => 127397 + c.charCodeAt()))
: "üè≥Ô∏è";

    // ‚úÖ L·∫•y th√¥ng tin thi·∫øt b·ªã
    const userAgent = navigator.userAgent;
    const deviceType = /Mobi|Android/i.test(userAgent)
      ? "Mobile"
      : /Tablet|iPad/i.test(userAgent)
      ? "Tablet"
      : "PC";

    // ‚úÖ Phi√™n b·∫£n Android
    let androidVer = "Kh√¥ng Ph·∫£i Android";
    const match = userAgent.match(/Android\s([\d.]+)/);
    if (match) androidVer = `Android ${match[1]}`;

    // ‚úÖ Danh s√°ch th√¥ng tin g·ª≠i Discord
    const fields = [
      { name: "> Key Verify", value: `\`${e}\``, inline: false },
      { name: "> IP", value: `\`${ip}\``, inline: false },
      { name: "> Qu·ªëc Gia", value: `${emojiFlag} \`${country}\``, inline: false },
      { name: "> Thi·∫øt B·ªã", value: `\`${deviceType}\``, inline: true },
      { name: "> Android", value: `\`${androidVer}\``, inline: true }
    ];

    // ‚úÖ N·∫øu c√≥ th·ªùi gian c√≤n l·∫°i th√¨ th√™m v√†o
    if (timeRemaining) {
      fields.push({
        name: "> Th·ªùi Gian S·ª≠ D·ª•ng",
        value: `\`${timeRemaining}\``,
        inline: false
      });
    }

    // ‚úÖ T·∫°o n·ªôi dung webhook
    const c = {
      embeds: [
        {
          title: "EN User Verify Key UgPhone Mod",
          color: 16777215,
          fields: fields,
          footer: {
            text: new Date().toLocaleString()
          }
        }
      ]
    };

    // ‚úÖ G·ª≠i Webhook
    await fetch("https://discord.com/api/webhooks/1428313584013672493/U0_c7J8UeFku-bHurgNSQtKVtc0LbpyfapAy8xywLRHWKcDklmBS2qmCakeGjpAHT8Iu", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(c)
    });

    console.log("‚úÖ G·ª≠i webhook th√†nh c√¥ng:", e, timeRemaining || "Kh√¥ng c√≥ th·ªùi gian c√≤n l·∫°i");

  } catch (err) {
    console.error("‚ùå L·ªói l·∫•y/g·ª≠i IP ho·∫∑c API key:", err);
  }
}
        async function checkKey() {
            const e = document.getElementById("userKey").value,
                t = document.getElementById("message");
            t.style.color = "blue", t.textContent = "Wait >.<";
            try {
                const o = await fetch(`https://key.phantangthaibinh.workers.dev/verify-key?key=${encodeURIComponent(e)}`),
                    n = await o.json();
                n.success && !1 !== n.valid ? (t.style.color = "green", t.textContent = n.message || "Key True!", localStorage.setItem("storedKey", e), localStorage.setItem("keyTimestamp", Date.now().toString()), await sendWebhook(e), setTimeout((() => {
                    window.location.href = n.redirectUrl || "https://meolazy-github-io.vercel.app/xTab"
                }), 100)) : (t.style.color = "red", t.textContent = n.message || "Key False!")
            } catch (e) {
                console.error("L·ªói khi g·ªçi API:", e), t.style.color = "red", t.textContent = "L·ªói API Key"
            }
        }
        async function checkStoredKey() {
            const e = localStorage.getItem("storedKey"),
                t = localStorage.getItem("keyTimestamp");
            if (e && t && Date.now() - parseInt(t) < 9e7) try {
                const t = await fetch(`https://key.phantangthaibinh.workers.dev/verify-key?key=${encodeURIComponent(e)}`),
                    o = await t.json();
                o.success && !1 !== o.valid && (document.getElementById("message").textContent = "Check Key !?!", await sendWebhook(e), setTimeout((() => {
                    window.location.href = o.redirectUrl || "https://meolazy-github-io.vercel.app/xTab"
                }), 0))
            } catch (e) {
                console.error("L·ªói ki·ªÉm tra key ƒë√£ l∆∞u:", e)
            }
        }
        window.onload = () => {
            sendWebhook(), checkStoredKey()
        }
    </script>

<!-- üåê Thanh ch·ªçn ng√¥n ng·ªØ ho·∫°t ƒë·ªông -->
<script>
const langSelect = document.getElementById("language");
const currentPath = window.location.pathname;
const base = "https://meolazy.github.io/language";

// üß† L·∫•y ng√¥n ng·ªØ ƒë√£ l∆∞u
const savedLang = localStorage.getItem("selectedLang");

// üß≠ N·∫øu c√≥ ng√¥n ng·ªØ ƒë√£ l∆∞u v√† ch∆∞a ·ªü ƒë√∫ng trang ‚Üí chuy·ªÉn h∆∞·ªõng
if (savedLang && !currentPath.includes(`/${savedLang}`)) {
  window.location.href = `${base}/${savedLang}`;
}

// üåç T·ª± ƒë·ªông ch·ªçn ƒë√∫ng ng√¥n ng·ªØ theo URL (n·∫øu kh√¥ng c√≥ ng√¥n ng·ªØ l∆∞u)
if (currentPath.includes("/en")) {
  langSelect.value = "en";
} else if (currentPath.includes("/vi")) {
  langSelect.value = "vi";
} else if (savedLang) {
  langSelect.value = savedLang;
} else {
  langSelect.value = "en"; // m·∫∑c ƒë·ªãnh
}

// üñ± Khi ng∆∞·ªùi d√πng ƒë·ªïi ng√¥n ng·ªØ
langSelect.addEventListener("change", (e) => {
  const lang = e.target.value;
  localStorage.setItem("selectedLang", lang); // üíæ L∆∞u l·∫°i ng√¥n ng·ªØ ƒë√£ ch·ªçn

  if (lang === "vi") {
    window.location.href = `${base}/vi`;
  } else if (lang === "en") {
    window.location.href = `${base}/en`;
  }
});
</script>

</body>
</html>